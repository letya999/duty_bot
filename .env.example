# ============================================
# Duty Bot Configuration
# ============================================

# === TELEGRAM BOT ===
# Your Telegram bot token (get from @BotFather)
TELEGRAM_TOKEN=your_telegram_bot_token

# Telegram chat ID for sending messages (find with @userinfobot)
TELEGRAM_CHAT_ID=123456789

# === SLACK BOT ===
# Slack bot token (xoxb-...)
SLACK_BOT_TOKEN=xoxb-your-bot-token

# Slack signing secret for webhook verification
SLACK_SIGNING_SECRET=your_signing_secret

# Slack channel ID for posting messages
SLACK_CHANNEL_ID=C123456789

# === SLACK OAUTH (for web admin panel) ===
# Get from Slack App Settings â†’ Basic Information
SLACK_CLIENT_ID=123456789.1234567890123
SLACK_CLIENT_SECRET=your-client-secret-here

# Redirect URI for OAuth callback
# For local dev: http://localhost:8000/web/auth/slack-callback
# For production: https://yourdomain.com/web/auth/slack-callback
SLACK_REDIRECT_URI=http://localhost:8000/web/auth/slack-callback

# === DATABASE ===
# PostgreSQL connection string
# For Docker: postgresql+asyncpg://user:password@postgres:5432/duty_bot
# For local: postgresql+asyncpg://user:password@localhost:5432/duty_bot
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/duty_bot

# === APPLICATION SETTINGS ===
# Timezone for scheduled tasks
TIMEZONE=UTC

# Time to send morning digest (HH:MM format, 24h)
MORNING_DIGEST_TIME=09:00

# Minutes before duty to send reminder
REMINDER_BEFORE_MINUTES=30

# Minutes before escalation timeout
ESCALATION_TIMEOUT_MINUTES=15

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# === ADMIN CONFIGURATION ===
# Comma-separated Telegram user IDs with admin permissions
# If not set, all users can perform admin actions
# Find IDs with @userinfobot
ADMIN_TELEGRAM_IDS=123456789,987654321

# Comma-separated Slack user IDs with admin permissions
# If not set, all users can perform admin actions
# Format: U123456789,U987654321
ADMIN_SLACK_IDS=U12345678,U87654321

# === SERVER ===
# Server host (0.0.0.0 for all interfaces)
HOST=0.0.0.0

# Server port
PORT=8000

# === WEBAPP (Frontend) ===
# Bot username for Telegram Login Widget (without @)
VITE_TELEGRAM_BOT_USERNAME=your_bot_username

# API base URL for webapp
# For local dev: http://localhost:8000/api/miniapp
# For production: https://yourdomain.com/api/miniapp
VITE_API_URL=http://localhost:8000/api/miniapp

# Backend API URL for Vite dev server proxy
# Points to where the API endpoints are located
# In Docker: http://app:8000 (service name in docker-compose)
# Locally: http://localhost:8000
VITE_API_BACKEND=http://app:8000

